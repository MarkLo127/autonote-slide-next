{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/yaolo/Desktop/autonote-slide-next/frontend/src/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n  useCallback,\n  useEffect,\n  useId,\n  useRef,\n  useState,\n  type DragEvent,\n} from \"react\";\nimport Image from \"next/image\";\n\ntype Paragraph = {\n  index: number;\n  text: string;\n  start_char: number;\n  end_char: number;\n};\n\ntype SummaryItem = {\n  paragraph_index: number;\n  summary: string;\n};\n\ntype KeywordItem = {\n  paragraph_index: number;\n  keywords: string[];\n};\n\ntype AnalyzeResponse = {\n  language: string;\n  paragraphs: Paragraph[];\n  global_summary: string;\n  paragraph_summaries: SummaryItem[];\n  paragraph_keywords: KeywordItem[];\n  wordcloud_image_url: string | null;\n};\n\ntype MindmapResponse = {\n  language: string;\n  paragraphs: Paragraph[];\n  paragraph_keywords: KeywordItem[];\n  doc_title: string;\n  mindmap_mermaid: string;\n  mindmap_file_url: string | null;\n  mindmap_image_url: string | null;\n  mindmap_image_file: string | null;\n  source_upload_url?: string | null;\n};\n\ntype FeatureKey = \"summary\" | \"keywords\" | \"mindmap\";\ntype PreviewTab = \"upload\" | \"analysis\";\ntype FilePreviewKind = \"none\" | \"pdf\" | \"text\" | \"image\" | \"generic\";\n\nconst rawBackendOrigin =\n  process.env.NEXT_PUBLIC_BACKEND_URL ??\n  process.env.NEXT_PUBLIC_API_BASE_URL ??\n  \"http://localhost:8000\";\nconst BACKEND_BASE = rawBackendOrigin.replace(/\\/$/, \"\");\nconst ANALYZE_ENDPOINT = `${BACKEND_BASE}/analyze`;\nconst MINDMAP_ENDPOINT = `${BACKEND_BASE}/mindmap`;\n\nconst normalizeOptionalUrl = (url: string) =>\n  url ? url.trim().replace(/\\/$/, \"\") : \"\";\n\nconst toAbsoluteUrl = (url: string | null | undefined): string | null => {\n  if (!url) return null;\n  if (/^https?:\\/\\//i.test(url)) return url;\n  if (url.startsWith(\"/\")) return `${BACKEND_BASE}${url}`;\n  return `${BACKEND_BASE}/${url}`;\n};\n\nconst featureConfigs: Array<{\n  key: FeatureKey;\n  label: string;\n  description: string;\n  icon: string;\n  accent: string;\n}> = [\n  {\n    key: \"summary\",\n    label: \"ÊëòË¶ÅÊï¥ÁêÜ\",\n    description: \"Ëá™ÂãïÂΩôÊï¥ÈáçÈªûÂÖßÂÆπ\",\n    icon: \"üìù\",\n    accent: \"from-blue-500 to-indigo-500\",\n  },\n  {\n    key: \"keywords\",\n    label: \"ÈóúÈçµÂ≠óÊì∑Âèñ\",\n    description: \"Êì∑ÂèñÊØèÊÆµÊñáÂ≠óÁÑ¶Èªû\",\n    icon: \"üîç\",\n    accent: \"from-emerald-500 to-green-500\",\n  },\n  {\n    key: \"mindmap\",\n    label: \"ÂøÉÊô∫ÂúñÁîüÊàê\",\n    description: \"Âª∫Á´ãË¶ñË¶∫ÂåñËÑàÁµ°\",\n    icon: \"üß†\",\n    accent: \"from-orange-500 to-amber-500\",\n  },\n];\n\nconst fileTypes = [\n  { label: \"PDF\", color: \"text-rose-500\" },\n  { label: \"PPT\", color: \"text-orange-500\" },\n  { label: \"PPTX\", color: \"text-orange-400\" },\n  { label: \"DOC\", color: \"text-blue-500\" },\n  { label: \"DOCX\", color: \"text-blue-400\" },\n  { label: \"MD\", color: \"text-emerald-500\" },\n  { label: \"TXT\", color: \"text-slate-500\" },\n];\n\nconst formatBytes = (bytes: number) => {\n  if (bytes === 0) return \"0 B\";\n  const k = 1024;\n  const sizes = [\"B\", \"KB\", \"MB\", \"GB\"];\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\n  const value = bytes / Math.pow(k, i);\n  return `${value.toFixed(i === 0 ? 0 : 1)} ${sizes[i]}`;\n};\n\nconst isPdfFile = (file: File) =>\n  file.type === \"application/pdf\" || file.name.toLowerCase().endsWith(\".pdf\");\n\nconst isTextFile = (file: File) => {\n  const lower = file.name.toLowerCase();\n  return (\n    file.type.startsWith(\"text/\") ||\n    lower.endsWith(\".txt\") ||\n    lower.endsWith(\".md\") ||\n    lower.endsWith(\".csv\")\n  );\n};\n\nconst isImageFile = (file: File) => file.type.startsWith(\"image/\");\n\nexport default function Home() {\n  const fileInputRef = useRef<HTMLInputElement | null>(null);\n  const [selectedFiles, setSelectedFiles] = useState<File[]>([]);\n  const [dragging, setDragging] = useState(false);\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\n  const [isMindmapLoading, setIsMindmapLoading] = useState(false);\n  const [analysisResult, setAnalysisResult] = useState<AnalyzeResponse | null>(\n    null,\n  );\n  const [mindmapResult, setMindmapResult] = useState<MindmapResponse | null>(\n    null,\n  );\n  const [activeFeature, setActiveFeature] = useState<FeatureKey>(\"summary\");\n  const [previewTab, setPreviewTab] = useState<PreviewTab>(\"upload\");\n  const [filePreviewUrl, setFilePreviewUrl] = useState<string | null>(null);\n  const [filePreviewType, setFilePreviewType] =\n    useState<FilePreviewKind>(\"none\");\n  const [filePreviewContent, setFilePreviewContent] = useState(\"\");\n  const [error, setError] = useState<string | null>(null);\n  const [mindmapError, setMindmapError] = useState<string | null>(null);\n  const [settingsOpen, setSettingsOpen] = useState(false);\n  const [apiKey, setApiKey] = useState(\"\");\n  const [llmBaseUrl, setLlmBaseUrl] = useState(\"\");\n  const [hasLoadedSettings, setHasLoadedSettings] = useState(false);\n  const fileInputId = useId();\n  const uploadHelpId = `${fileInputId}-help`;\n\n  useEffect(() => {\n    if (typeof window === \"undefined\") return;\n    const storedKey = window.localStorage.getItem(\"autonote:llmApiKey\") ?? \"\";\n    const storedBase = window.localStorage.getItem(\"autonote:llmBaseUrl\") ?? \"\";\n    setApiKey(storedKey);\n    setLlmBaseUrl(storedBase);\n    setHasLoadedSettings(true);\n  }, []);\n\n  useEffect(() => {\n    if (!hasLoadedSettings || typeof window === \"undefined\") return;\n    window.localStorage.setItem(\"autonote:llmApiKey\", apiKey);\n  }, [apiKey, hasLoadedSettings]);\n\n  useEffect(() => {\n    if (!hasLoadedSettings || typeof window === \"undefined\") return;\n    window.localStorage.setItem(\"autonote:llmBaseUrl\", llmBaseUrl);\n  }, [llmBaseUrl, hasLoadedSettings]);\n\n  useEffect(() => {\n    let objectUrl: string | null = null;\n    let cancelled = false;\n\n    if (!selectedFiles.length) {\n      setFilePreviewUrl(null);\n      setFilePreviewType(\"none\");\n      setFilePreviewContent(\"\");\n      setPreviewTab(\"upload\");\n      return () => {\n        if (objectUrl) {\n          URL.revokeObjectURL(objectUrl);\n        }\n      };\n    }\n\n    const file = selectedFiles[0];\n    setPreviewTab(\"upload\");\n\n    if (isPdfFile(file)) {\n      objectUrl = URL.createObjectURL(file);\n      if (!cancelled) {\n        setFilePreviewUrl(objectUrl);\n        setFilePreviewType(\"pdf\");\n        setFilePreviewContent(\"\");\n      }\n    } else if (isTextFile(file)) {\n      const reader = new FileReader();\n      reader.onload = () => {\n        if (!cancelled) {\n          setFilePreviewContent((reader.result as string) ?? \"\");\n          setFilePreviewUrl(null);\n          setFilePreviewType(\"text\");\n        }\n      };\n      reader.readAsText(file, \"utf-8\");\n    } else if (isImageFile(file)) {\n      objectUrl = URL.createObjectURL(file);\n      if (!cancelled) {\n        setFilePreviewUrl(objectUrl);\n        setFilePreviewType(\"image\");\n        setFilePreviewContent(\"\");\n      }\n    } else {\n      objectUrl = URL.createObjectURL(file);\n      if (!cancelled) {\n        setFilePreviewUrl(objectUrl);\n        setFilePreviewType(\"generic\");\n        setFilePreviewContent(\"\");\n      }\n    }\n\n    return () => {\n      cancelled = true;\n      if (objectUrl) {\n        URL.revokeObjectURL(objectUrl);\n      }\n    };\n  }, [selectedFiles]);\n\n  const handleFilesSelected = useCallback((files: FileList | File[]) => {\n    const fileArray = Array.from(files).slice(0, 5);\n    if (fileArray.length === 0) return;\n    setSelectedFiles(fileArray);\n    setError(null);\n    setMindmapError(null);\n    setAnalysisResult(null);\n    setMindmapResult(null);\n    setActiveFeature(\"summary\");\n    setPreviewTab(\"upload\");\n  }, []);\n\n  const handleDrop = useCallback(\n    (event: DragEvent<HTMLDivElement>) => {\n      event.preventDefault();\n      setDragging(false);\n      if (event.dataTransfer?.files) {\n        handleFilesSelected(event.dataTransfer.files);\n      }\n    },\n    [handleFilesSelected],\n  );\n\n  const handleDragOver = useCallback((event: DragEvent<HTMLDivElement>) => {\n    event.preventDefault();\n    setDragging(true);\n  }, []);\n\n  const handleDragLeave = useCallback(() => {\n    setDragging(false);\n  }, []);\n\n  const selectedFileName = selectedFiles[0]?.name ?? \"\";\n\n  const handleAnalyze = useCallback(async () => {\n    if (!selectedFiles.length) {\n      setError(\"Ë´ãÂÖàÈÅ∏ÊìáË¶Å‰∏äÂÇ≥ÁöÑÊ™îÊ°à\");\n      return;\n    }\n    if (!apiKey.trim()) {\n      setError(\"Ë´ãÂÖàÊñºÂè≥‰∏äËßíË®≠ÂÆö API Key\");\n      setSettingsOpen(true);\n      return;\n    }\n\n    setIsAnalyzing(true);\n    setError(null);\n    setMindmapError(null);\n    setActiveFeature(\"summary\");\n\n    try {\n      const formData = new FormData();\n      formData.append(\"file\", selectedFiles[0]);\n      formData.append(\"llm_api_key\", apiKey);\n      const cleanedBase = normalizeOptionalUrl(llmBaseUrl);\n      if (cleanedBase) {\n        formData.append(\"llm_base_url\", cleanedBase);\n      }\n\n      const response = await fetch(ANALYZE_ENDPOINT, {\n        method: \"POST\",\n        body: formData,\n      });\n\n      if (!response.ok) {\n        const text = await response.text();\n        throw new Error(text || \"ÂàÜÊûêÂ§±ÊïóÔºåË´ãÁ®çÂæåÂÜçË©¶\");\n      }\n\n      const data = (await response.json()) as AnalyzeResponse;\n      const normalized: AnalyzeResponse = {\n        ...data,\n        wordcloud_image_url: toAbsoluteUrl(data.wordcloud_image_url),\n      };\n      setAnalysisResult(normalized);\n      setMindmapResult(null);\n    } catch (err) {\n      const message =\n        err instanceof Error ? err.message : \"ÂàÜÊûêÊôÇÁôºÁîüÊú™Áü•ÈåØË™§\";\n      setError(message);\n      setAnalysisResult(null);\n      setMindmapResult(null);\n    } finally {\n      setIsAnalyzing(false);\n    }\n  }, [selectedFiles, apiKey, llmBaseUrl]);\n\n  const ensureMindmap = useCallback(async () => {\n    if (!selectedFiles.length) {\n      setMindmapError(\"Ë´ãÂÖàÈÅ∏ÊìáÊ™îÊ°à\");\n      return;\n    }\n    if (mindmapResult || isMindmapLoading) return;\n\n    setMindmapError(null);\n    setIsMindmapLoading(true);\n\n    try {\n      const formData = new FormData();\n      formData.append(\"file\", selectedFiles[0]);\n      if (apiKey.trim()) {\n        formData.append(\"llm_api_key\", apiKey);\n      }\n      const cleanedBase = normalizeOptionalUrl(llmBaseUrl);\n      if (cleanedBase) {\n        formData.append(\"llm_base_url\", cleanedBase);\n      }\n\n      const response = await fetch(MINDMAP_ENDPOINT, {\n        method: \"POST\",\n        body: formData,\n      });\n\n      if (!response.ok) {\n        const text = await response.text();\n        throw new Error(text || \"ÂøÉÊô∫ÂúñÁîüÊàêÂ§±Êïó\");\n      }\n\n      const data = (await response.json()) as MindmapResponse;\n      const normalized: MindmapResponse = {\n        ...data,\n        mindmap_file_url: toAbsoluteUrl(data.mindmap_file_url),\n        mindmap_image_url: toAbsoluteUrl(data.mindmap_image_url),\n        source_upload_url: toAbsoluteUrl(data.source_upload_url),\n      };\n      setMindmapResult(normalized);\n    } catch (err) {\n      const message =\n        err instanceof Error ? err.message : \"ÂøÉÊô∫ÂúñÁîüÊàêÊôÇÁôºÁîüÊú™Áü•ÈåØË™§\";\n      setMindmapError(message);\n      setMindmapResult(null);\n    } finally {\n      setIsMindmapLoading(false);\n    }\n  }, [selectedFiles, mindmapResult, isMindmapLoading, apiKey, llmBaseUrl]);\n\n  const handleFeatureSelect = useCallback(\n    async (feature: FeatureKey) => {\n      setActiveFeature(feature);\n      if (feature === \"mindmap\") {\n        await ensureMindmap();\n      }\n    },\n    [ensureMindmap],\n  );\n\n  const resetSelection = useCallback(() => {\n    setSelectedFiles([]);\n    setAnalysisResult(null);\n    setMindmapResult(null);\n    setError(null);\n    setMindmapError(null);\n    setActiveFeature(\"summary\");\n    setPreviewTab(\"upload\");\n  }, []);\n\n  const renderSummary = () => {\n    if (!analysisResult) {\n      return (\n        <p className=\"text-slate-500\">\n          ‰∏äÂÇ≥‰∏¶ÂàÜÊûêÊ™îÊ°àÂæåÔºåÂ∞áÂú®Ê≠§ËôïÂ±ïÁ§∫ÂÖ®Â±ÄÊëòË¶ÅËàáÊÆµËêΩÊëòË¶ÅÁµêÊûú„ÄÇ\n        </p>\n      );\n    }\n\n    const languageLabel = analysisResult.language\n      ? analysisResult.language.toUpperCase()\n      : \"\";\n\n    return (\n      <div className=\"space-y-8\">\n        <div className=\"flex flex-wrap items-center gap-2 text-sm text-slate-500\">\n          <span className=\"rounded-full bg-slate-100 px-3 py-1 font-medium text-slate-600\">\n            Ë™ûË®ÄÔºö{languageLabel}\n          </span>\n        </div>\n        <div>\n          <h3 className=\"text-lg font-semibold text-slate-800\">ÂÖ®Â±ÄÊëòË¶Å</h3>\n          <p className=\"mt-3 whitespace-pre-line leading-7 text-slate-700\">\n            {analysisResult.global_summary || \"Â∞öÊú™ÂèñÂæóÊëòË¶Å\"}\n          </p>\n        </div>\n        <div>\n          <h3 className=\"text-lg font-semibold text-slate-800\">ÊÆµËêΩÊëòË¶Å</h3>\n          <div className=\"mt-4 max-h-[320px] space-y-4 overflow-y-auto pr-2\">\n            {analysisResult.paragraph_summaries.map((item) => {\n              const paragraph = analysisResult.paragraphs.find(\n                (p) => p.index === item.paragraph_index,\n              );\n              return (\n                <div\n                  key={item.paragraph_index}\n                  className=\"rounded-xl border border-slate-200 bg-white/80 p-4 shadow-sm\"\n                >\n                  <p className=\"text-sm font-semibold text-slate-600\">\n                    Á¨¨ {item.paragraph_index + 1} ÊÆµ\n                  </p>\n                  <p className=\"mt-2 text-sm leading-6 text-slate-500\">\n                    {paragraph?.text.slice(0, 160) || \"\"}\n                    {paragraph && paragraph.text.length > 160 ? \"‚Ä¶\" : \"\"}\n                  </p>\n                  <p className=\"mt-3 text-[15px] leading-6 text-slate-800\">\n                    {item.summary}\n                  </p>\n                </div>\n              );\n            })}\n            {analysisResult.paragraph_summaries.length === 0 && (\n              <p className=\"text-slate-500\">Â∞öÊú™ÂèñÂæóÊÆµËêΩÊëòË¶Å„ÄÇ</p>\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  const renderKeywords = () => {\n    if (!analysisResult) {\n      return (\n        <p className=\"text-slate-500\">\n          ÂÖàÂàÜÊûêÊ™îÊ°àÂæåÔºåÂç≥ÂèØÂú®Ê≠§Êü•ÁúãÊØèÊÆµÁöÑÈóúÈçµÂ≠óÊëòË¶Å„ÄÇ\n        </p>\n      );\n    }\n\n    return (\n      <div className=\"space-y-6\">\n        <div className=\"max-h-[320px] space-y-6 overflow-y-auto pr-2\">\n          {analysisResult.paragraph_keywords.map((item) => (\n            <div\n              key={item.paragraph_index}\n              className=\"rounded-2xl border border-slate-200 bg-white/80 p-5 shadow-sm\"\n            >\n              <p className=\"text-sm font-semibold text-slate-600\">\n                Á¨¨ {item.paragraph_index + 1} ÊÆµ\n              </p>\n              <div className=\"mt-3 flex flex-wrap gap-2\">\n                {item.keywords.length ? (\n                  item.keywords.map((kw) => (\n                    <span\n                      key={kw}\n                      className=\"rounded-full bg-emerald-50 px-3 py-1 text-sm font-medium text-emerald-600\"\n                    >\n                      {kw}\n                    </span>\n                  ))\n                ) : (\n                  <span className=\"text-slate-400\">ÁÑ°ÈóúÈçµÂ≠óË≥áÊñô</span>\n                )}\n              </div>\n            </div>\n          ))}\n          {analysisResult.paragraph_keywords.length === 0 && (\n            <p className=\"text-slate-500\">Â∞öÊú™ÂèñÂæóÈóúÈçµÂ≠óË≥áÊñô„ÄÇ</p>\n          )}\n        </div>\n        {analysisResult.wordcloud_image_url ? (\n          <div>\n            <h3 className=\"text-lg font-semibold text-slate-800\">ÊñáÂ≠óÈõ≤</h3>\n            <div className=\"mt-4 overflow-hidden rounded-2xl border border-slate-200 bg-white\">\n              <div className=\"relative aspect-[4/3] w-full\">\n                <Image\n                  src={analysisResult.wordcloud_image_url}\n                  alt=\"ÈóúÈçµÂ≠óÊñáÂ≠óÈõ≤\"\n                  fill\n                  className=\"object-contain\"\n                  unoptimized\n                />\n              </div>\n            </div>\n          </div>\n        ) : (\n          <p className=\"text-slate-500\">Â∞öÊú™ÂèñÂæóÊñáÂ≠óÈõ≤ÂúñÁâá„ÄÇ</p>\n        )}\n      </div>\n    );\n  };\n\n  const renderMindmap = () => {\n    if (mindmapError) {\n      return <p className=\"text-rose-500\">{mindmapError}</p>;\n    }\n\n    if (isMindmapLoading) {\n      return <p className=\"text-slate-500\">ÂøÉÊô∫ÂúñÁîüÊàê‰∏≠ÔºåË´ãÁ®çÂÄô‚Ä¶</p>;\n    }\n\n    if (!mindmapResult) {\n      return (\n        <p className=\"text-slate-500\">\n          ÈªûÊìä‰∏ãÊñπ„ÄåÂøÉÊô∫ÂúñÁîüÊàê„ÄçÂæåÔºåÂ∞áÊñºÊ≠§È°ØÁ§∫Ëá™ÂãïÁîüÊàêÁöÑÂúñÂÉèËàáÊëòË¶Å„ÄÇ\n        </p>\n      );\n    }\n\n    return (\n      <div className=\"space-y-6\">\n        <div>\n          <h3 className=\"text-lg font-semibold text-slate-800\">\n            {mindmapResult.doc_title || \"ÂøÉÊô∫Âúñ\"}\n          </h3>\n          <p className=\"mt-2 text-sm text-slate-500\">\n            Ë™ûË®ÄÔºö{mindmapResult.language.toUpperCase()}\n          </p>\n        </div>\n        {mindmapResult.mindmap_image_url ? (\n          <div className=\"overflow-hidden rounded-2xl border border-slate-200 bg-white\">\n            <div className=\"relative aspect-[16/10] w-full\">\n              <Image\n                src={mindmapResult.mindmap_image_url}\n                alt=\"ÂøÉÊô∫ÂúñÈ†êË¶Ω\"\n                fill\n                className=\"object-contain\"\n                unoptimized\n              />\n            </div>\n          </div>\n        ) : (\n          <p className=\"text-slate-500\">Êö´ÁÑ°ÂøÉÊô∫ÂúñÂúñÁâáÂèØÈ†êË¶Ω„ÄÇ</p>\n        )}\n      </div>\n    );\n  };\n\n  const renderUploadPreview = () => {\n    if (!selectedFiles.length) {\n      return (\n        <div className=\"flex h-full items-center justify-center rounded-2xl border border-dashed border-slate-200 bg-white/70 p-6 text-sm text-slate-500\">\n          ‰∏äÂÇ≥Ê™îÊ°àÂæåÂç≥ÂèØÂú®Ê≠§È†êË¶ΩÂéüÂßãÂÖßÂÆπ„ÄÇ\n        </div>\n      );\n    }\n\n    if (filePreviewType === \"pdf\" && filePreviewUrl) {\n      return (\n        <iframe\n          title=\"Ê™îÊ°àÈ†êË¶Ω\"\n          src={filePreviewUrl}\n          className=\"h-full w-full rounded-2xl border border-slate-200 bg-white\"\n        />\n      );\n    }\n\n    if (filePreviewType === \"image\" && filePreviewUrl) {\n      return (\n        <div className=\"relative h-full w-full overflow-hidden rounded-2xl border border-slate-200 bg-white\">\n          <Image\n            src={filePreviewUrl}\n            alt=\"ÈÅ∏ÊìáÁöÑÂúñÁâáÈ†êË¶Ω\"\n            fill\n            className=\"object-contain\"\n            unoptimized\n          />\n        </div>\n      );\n    }\n\n    if (filePreviewType === \"text\") {\n      return (\n        <div className=\"h-full overflow-y-auto rounded-2xl border border-slate-200 bg-white/90 p-4\">\n          <pre className=\"whitespace-pre-wrap text-sm leading-6 text-slate-700\">\n            {filePreviewContent}\n          </pre>\n        </div>\n      );\n    }\n\n    if (filePreviewType === \"generic\" && filePreviewUrl) {\n      return (\n        <iframe\n          title=\"Ê™îÊ°àÈ†êË¶Ω\"\n          src={filePreviewUrl}\n          className=\"h-full w-full rounded-2xl border border-slate-200 bg-white\"\n        />\n      );\n    }\n\n    return (\n      <div className=\"flex h-full items-center justify-center rounded-2xl border border-dashed border-slate-200 bg-white/70 p-6 text-sm text-slate-500\">\n        Ê≠§Ê™îÊ°àÊ†ºÂºèÊö´‰∏çÊîØÊè¥ÂÖßÂµåÈ†êË¶ΩÔºåË´ãÈáçÊñ∞ÈÅ∏ÊìáÂÖ∂‰ªñÊ™îÊ°à„ÄÇ\n      </div>\n    );\n  };\n\n  const renderAnalysisPanel = () => {\n    if (!analysisResult) {\n      return (\n        <div className=\"flex h-full items-center justify-center rounded-2xl border border-dashed border-slate-200 bg-white/70 p-6 text-sm text-slate-500\">\n          Ë´ãÂÖàÂÆåÊàêÂàÜÊûêÔºåÊàñÈªûÊìä„ÄåÈñãÂßãÂàÜÊûê„ÄçÂæåÂÜçË©¶‰∏ÄÊ¨°„ÄÇ\n        </div>\n      );\n    }\n\n    const renderActiveFeature = () => {\n      if (activeFeature === \"summary\") return renderSummary();\n      if (activeFeature === \"keywords\") return renderKeywords();\n      return renderMindmap();\n    };\n\n    return (\n      <div className=\"flex h-full flex-col\">\n        <div className=\"grid gap-3 sm:grid-cols-3\">\n          {featureConfigs.map((feature) => {\n            const isActive = activeFeature === feature.key;\n            return (\n              <button\n                key={feature.key}\n                type=\"button\"\n                onClick={() => handleFeatureSelect(feature.key)}\n                className={`flex flex-col gap-1 rounded-3xl border px-4 py-4 text-left transition ${\n                  isActive\n                    ? `border-transparent bg-gradient-to-r ${feature.accent} text-white`\n                    : \"border-slate-200 bg-white text-slate-700 hover:border-indigo-200 hover:text-indigo-600\"\n                }`}\n              >\n                <span className=\"text-2xl\">{feature.icon}</span>\n                <span className=\"text-base font-semibold\">{feature.label}</span>\n                <span\n                  className={`text-sm ${\n                    isActive ? \"text-white/80\" : \"text-slate-500\"\n                  }`}\n                >\n                  {feature.description}\n                </span>\n              </button>\n            );\n          })}\n        </div>\n        <div className=\"mt-6 flex-1 overflow-y-auto pr-1\">\n          {renderActiveFeature()}\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-[#f6f8ff] via-[#f4f7fb] to-[#edf1ff] text-slate-900\">\n      <header className=\"grid grid-cols-[1fr_auto_1fr] items-center px-8 pt-8\">\n        <div aria-hidden />\n        <div className=\"col-start-2 col-end-3 flex items-center justify-center gap-4\">\n          <div className=\"flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br from-indigo-500 via-purple-500 to-blue-500 text-2xl text-white shadow-lg\">\n            üìÑ\n          </div>\n          <div className=\"text-center\">\n            <p className=\"text-xl font-semibold text-slate-900\">AutoNote & Slide</p>\n            <p className=\"text-sm text-slate-500\">Êô∫ÊÖßÊñáÊ™îËôïÁêÜÂπ≥Âè∞</p>\n          </div>\n        </div>\n        <button\n          type=\"button\"\n          onClick={() => setSettingsOpen(true)}\n          className=\"group col-start-3 col-end-4 justify-self-end rounded-2xl border border-white/60 bg-white/80 p-3 shadow-lg transition hover:shadow-xl\"\n          aria-label=\"ÈñãÂïü API Ë®≠ÂÆö\"\n        >\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 24 24\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            strokeWidth=\"1.6\"\n            className=\"h-6 w-6 text-slate-600 transition group-hover:text-slate-900\"\n          >\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              d=\"M10.325 4.317a1 1 0 0 1 .894-.553h1.562a1 1 0 0 1 .894.553l.482.964a1 1 0 0 0 .764.553l1.064.12a1 1 0 0 1 .874.874l.12 1.064a1 1 0 0 0 .553.764l.964.482a1 1 0 0 1 .553.894v1.562a1 1 0 0 1-.553.894l-.964.482a1 1 0 0 0-.553.764l-.12 1.064a1 1 0 0 1-.874.874l-1.064.12a1 1 0 0 0-.764.553l-.482.964a1 1 0 0 1-.894.553h-1.562a1 1 0 0 1-.894-.553l-.482-.964a1 1 0 0 0-.764-.553l-1.064-.12a1 1 0 0 1-.874-.874l-.12-1.064a1 1 0 0 0-.553-.764l-.964-.482a1 1 0 0 1-.553-.894v-1.562a1 1 0 0 1 .553-.894l.964-.482a1 1 0 0 0 .553-.764l.12-1.064a1 1 0 0 1 .874-.874l1.064-.12a1 1 0 0 0 .764-.553l.482-.964Z\"\n            />\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              d=\"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z\"\n            />\n          </svg>\n        </button>\n      </header>\n\n      <main className=\"mx-auto mt-6 max-w-6xl px-6 pb-16\">\n        <div className=\"rounded-3xl border border-amber-100 bg-gradient-to-r from-amber-50 to-amber-100/70 px-6 py-4 text-sm text-amber-800 shadow-sm\">\n          ÁõÆÂâçÂÉÖÊîØÊè¥ÈõªËÖ¶Á´Ø‰ΩøÁî®ÔºåË´ã‰ΩøÁî®ÈõªËÖ¶ÁÄèË¶ΩÂô®Áç≤ÂæóÊúÄ‰Ω≥È´îÈ©ó\n        </div>\n\n        <div className=\"mt-8 grid gap-8 lg:grid-cols-2 lg:items-stretch\">\n          <section className=\"relative flex h-full w-full flex-col overflow-hidden rounded-[36px] border border-white/60 bg-white/90 p-8 shadow-xl lg:aspect-square\">\n            <span className=\"absolute left-8 top-6 rounded-full border border-slate-200 bg-white px-3 py-1 text-xs font-medium text-slate-500\">\n              App Preview\n            </span>\n            <div className=\"mt-14 flex flex-1 flex-col items-center gap-6 text-center\">\n              <div className=\"flex h-24 w-24 items-center justify-center rounded-[32px] bg-gradient-to-br from-blue-500 via-indigo-500 to-purple-500 text-4xl text-white shadow-xl\">\n                ‚¨ÜÔ∏è\n              </div>\n              <div>\n                <h1 className=\"text-2xl font-semibold text-slate-900\">\n                  ‰∏äÂÇ≥ÊÇ®ÁöÑÊ™îÊ°à\n                </h1>\n                <p className=\"mt-2 max-w-md text-sm leading-6 text-slate-500\">\n                  Â∞áÊ™îÊ°àÊãñÊîæÂà∞Ê≠§ËôïÔºåÊàñÈªûÊìä‰ªª‰ΩïÂú∞ÊñπÁÄèË¶ΩÊ™îÊ°à„ÄÇ‰∏äÂÇ≥ÂæåÁ≥ªÁµ±Â∞áËá™ÂãïÁÇ∫ÊÇ®Êï¥ÁêÜÈáçÈªû„ÄÅÊì∑ÂèñÈóúÈçµÂ≠ó‰∏¶ÁîüÊàêÂøÉÊô∫Âúñ„ÄÇ\n                </p>\n              </div>\n              <div\n                className={`w-full rounded-3xl border-2 border-dashed bg-gradient-to-br from-slate-50 to-slate-100/70 p-6 transition ${dragging ? \"border-indigo-400 bg-indigo-50/70\" : \"border-slate-200\"}`}\n                onDragOver={handleDragOver}\n                onDragLeave={handleDragLeave}\n                onDrop={handleDrop}\n              >\n                <label htmlFor={fileInputId} className=\"sr-only\">\n                  ÈÅ∏ÊìáË¶ÅÂàÜÊûêÁöÑÊ™îÊ°à\n                </label>\n                <input\n                  id={fileInputId}\n                  ref={fileInputRef}\n                  type=\"file\"\n                  multiple\n                  accept=\".pdf,.ppt,.pptx,.doc,.docx,.md,.txt\"\n                  className=\"sr-only\"\n                  aria-describedby={uploadHelpId}\n                  onChange={(event) => {\n                    if (event.target.files) {\n                      handleFilesSelected(event.target.files);\n                    }\n                  }}\n                />\n                <div className=\"flex flex-col items-center gap-4\">\n                  <button\n                    type=\"button\"\n                    onClick={() => fileInputRef.current?.click()}\n                    className=\"rounded-full bg-slate-900 px-5 py-2 text-sm font-medium text-white shadow-lg transition hover:bg-slate-700\"\n                  >\n                    ÈÅ∏ÊìáÊ™îÊ°à\n                  </button>\n                  <p id={uploadHelpId} className=\"text-xs text-slate-500\">\n                    ÊîØÊè¥Ê†ºÂºèÔºöPDF ¬∑ PPT ¬∑ PPTX ¬∑ Word ¬∑ Markdown ¬∑ TXT<br />\n                    ÊúÄÂ§ßÊ™îÊ°àÂ§ßÂ∞èÔºö50MBÔºå‰∏ÄÊ¨°ÊúÄÂ§ö 5 ÂÄãÊ™îÊ°à\n                  </p>\n                </div>\n              </div>\n\n              <div className=\"flex flex-wrap justify-center gap-4 text-sm font-medium\">\n                {fileTypes.map((type) => (\n                  <span\n                    key={type.label}\n                    className={`${type.color} rounded-full bg-white px-3 py-1 shadow-sm`}\n                  >\n                    {type.label}\n                  </span>\n                ))}\n              </div>\n\n              {selectedFiles.length > 0 ? (\n                <div className=\"w-full rounded-2xl border border-slate-200 bg-slate-50/80 p-4 text-left text-sm text-slate-600\">\n                  <div className=\"flex items-center justify-between\">\n                    <div>\n                      <p className=\"font-medium text-slate-800\">\n                        Â∑≤ÈÅ∏Êìá {selectedFiles.length} ÂÄãÊ™îÊ°à\n                      </p>\n                      <p className=\"mt-1 text-xs text-slate-500\">\n                        ÁõÆÂâçÂÉÖÊúÉÂàÜÊûêÁ¨¨‰∏ÄÂÄãÊ™îÊ°àÔºö{selectedFileName}\n                      </p>\n                    </div>\n                    <button\n                      type=\"button\"\n                      onClick={resetSelection}\n                      className=\"text-xs font-medium text-rose-500 hover:text-rose-600\"\n                    >\n                      Ê∏ÖÈô§\n                    </button>\n                  </div>\n                  <ul className=\"mt-3 max-h-[160px] space-y-2 overflow-y-auto\">\n                    {selectedFiles.map((file) => (\n                      <li\n                        key={file.name}\n                        className=\"flex items-center justify-between rounded-xl bg-white px-3 py-2 shadow-sm\"\n                      >\n                        <span className=\"truncate pr-3 text-slate-700\">\n                          {file.name}\n                        </span>\n                        <span className=\"text-xs text-slate-400\">\n                          {formatBytes(file.size)}\n                        </span>\n                      </li>\n                    ))}\n                  </ul>\n                </div>\n              ) : null}\n\n              {error ? (\n                <div className=\"w-full rounded-2xl border border-rose-200 bg-rose-50 px-4 py-3 text-sm text-rose-600\">\n                  {error}\n                </div>\n              ) : null}\n\n              <button\n                type=\"button\"\n                onClick={handleAnalyze}\n                disabled={isAnalyzing}\n                className=\"mt-auto inline-flex w-full items-center justify-center rounded-2xl bg-gradient-to-r from-indigo-500 to-blue-500 px-6 py-3 text-base font-semibold text-white shadow-lg transition hover:from-indigo-600 hover:to-blue-600 disabled:cursor-not-allowed disabled:opacity-60\"\n              >\n                {isAnalyzing ? \"ÂàÜÊûê‰∏≠‚Ä¶\" : \"ÈñãÂßãÂàÜÊûê\"}\n              </button>\n            </div>\n          </section>\n\n          <section className=\"relative flex h-full w-full flex-col overflow-hidden rounded-[36px] border border-white/60 bg-white/90 p-8 shadow-xl lg:aspect-square\">\n            <div className=\"flex flex-wrap items-center justify-between gap-4\">\n              <div>\n                <h2 className=\"text-2xl font-semibold text-slate-900\">Ê™îÊ°àÈ†êË¶Ω</h2>\n                <p className=\"mt-2 text-sm text-slate-500\">\n                  Â∑¶ÂÅ¥‰∏äÂÇ≥Ê™îÊ°àÂæåÔºåÂèØÂú®Ê≠§ÂàáÊèõÂéüÂßãÊ™îÊ°àËàáÂàÜÊûêÁµêÊûú„ÄÇ\n                </p>\n              </div>\n              <div className=\"flex gap-3\">\n                <button\n                  type=\"button\"\n                  onClick={() => setPreviewTab(\"upload\")}\n                  className={`rounded-full px-4 py-2 text-sm font-medium transition ${\n                    previewTab === \"upload\"\n                      ? \"bg-slate-900 text-white shadow\"\n                      : \"border border-slate-200 bg-white text-slate-600 hover:border-slate-300\"\n                  }`}\n                >\n                  ‰∏äÂÇ≥Ê™îÊ°àÈ†êË¶Ω\n                </button>\n                <button\n                  type=\"button\"\n                  onClick={() => setPreviewTab(\"analysis\")}\n                  disabled={!analysisResult}\n                  className={`rounded-full px-4 py-2 text-sm font-medium transition ${\n                    previewTab === \"analysis\"\n                      ? \"bg-slate-900 text-white shadow\"\n                      : \"border border-slate-200 bg-white text-slate-600 hover:border-slate-300\"\n                  } ${!analysisResult ? \"cursor-not-allowed opacity-50\" : \"\"}`}\n                >\n                  ÂàÜÊûêÁµêÊûú\n                </button>\n              </div>\n            </div>\n            <div className=\"mt-6 flex-1 overflow-hidden rounded-[28px] bg-slate-50/90 p-4\">\n              {previewTab === \"upload\" ? (\n                <div className=\"h-full w-full\">{renderUploadPreview()}</div>\n              ) : (\n                <div className=\"h-full w-full\">{renderAnalysisPanel()}</div>\n              )}\n            </div>\n          </section>\n        </div>\n      </main>\n\n      {settingsOpen ? (\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/30 px-4\">\n          <div className=\"w-full max-w-md rounded-3xl border border-white/60 bg-white/95 p-6 shadow-2xl\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <h3 className=\"text-lg font-semibold text-slate-900\">API Ë®≠ÂÆö</h3>\n                <p className=\"text-sm text-slate-500\">Ë´ãËº∏ÂÖ•ÊÇ®ÁöÑ LLM API Key Ëàá Base URL</p>\n              </div>\n              <button\n                type=\"button\"\n                onClick={() => setSettingsOpen(false)}\n                className=\"rounded-full p-2 text-slate-400 transition hover:bg-slate-100 hover:text-slate-600\"\n                aria-label=\"ÈóúÈñâË®≠ÂÆö\"\n              >\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  viewBox=\"0 0 24 24\"\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  strokeWidth=\"1.8\"\n                  className=\"h-5 w-5\"\n                >\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"m6 6 12 12M18 6 6 18\" />\n                </svg>\n              </button>\n            </div>\n            <div className=\"mt-6 space-y-5\">\n              <div>\n                <label className=\"text-sm font-medium text-slate-700\" htmlFor=\"apiKey\">\n                  API Key\n                </label>\n                <input\n                  id=\"apiKey\"\n                  type=\"password\"\n                  value={apiKey}\n                  onChange={(event) => setApiKey(event.target.value)}\n                  placeholder=\"Ë´ãËº∏ÂÖ•ÊÇ®ÁöÑ API Key\"\n                  className=\"mt-2 w-full rounded-xl border border-slate-200 bg-white px-4 py-3 text-sm text-slate-700 shadow-inner focus:border-indigo-400 focus:outline-none\"\n                />\n              </div>\n              <div>\n                <label className=\"text-sm font-medium text-slate-700\" htmlFor=\"llmBaseUrlInput\">\n                  LLM Base URLÔºàÂèØÈÅ∏Â°´Ôºâ\n                </label>\n                <input\n                  id=\"llmBaseUrlInput\"\n                  type=\"url\"\n                  value={llmBaseUrl}\n                  onChange={(event) => setLlmBaseUrl(event.target.value)}\n                  placeholder=\"https://api.example.com\"\n                  className=\"mt-2 w-full rounded-xl border border-slate-200 bg-white px-4 py-3 text-sm text-slate-700 shadow-inner focus:border-indigo-400 focus:outline-none\"\n                />\n                <p className=\"mt-2 text-xs text-slate-400\">\n                  Ëã•‰∏çÂ°´ÂØ´Â∞á‰ΩøÁî®ÂæåÁ´ØÈ†êË®≠ÁöÑ LLM Base URL„ÄÇ\n                </p>\n              </div>\n            </div>\n            <div className=\"mt-6 flex justify-end gap-3\">\n              <button\n                type=\"button\"\n                onClick={() => setSettingsOpen(false)}\n                className=\"rounded-xl border border-slate-200 px-4 py-2 text-sm font-medium text-slate-600 hover:bg-slate-100\"\n              >\n                ÂèñÊ∂à\n              </button>\n              <button\n                type=\"button\"\n                onClick={() => setSettingsOpen(false)}\n                className=\"rounded-xl bg-indigo-500 px-4 py-2 text-sm font-semibold text-white shadow hover:bg-indigo-600\"\n              >\n                Á¢∫Ë™ç\n              </button>\n            </div>\n          </div>\n        </div>\n      ) : null}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}